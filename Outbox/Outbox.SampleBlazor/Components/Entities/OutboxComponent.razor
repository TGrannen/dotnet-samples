@using Outbox.DynamoDb.Internal
@inject IDynamoDBContext DynamoDbContext
@inject IServiceScopeFactory ScopeFactory
@inject ISnackbar Snackbar
@inherits ComponentBase

<MudText Typo="Typo.h5">Outbox Messages</MudText>

<MudButton Variant="Variant.Filled" OnClick="Reload">Refresh</MudButton>

<MudDataGrid Items="@_elements" T="OutboxMessage">
    <Columns>
        <PropertyColumn Property="x => x.Key" Title="Key"/>
        <PropertyColumn Property="x => x.Created" Title="Created"/>
        <PropertyColumn Property="x => x.Payload" Title="Payload"/>
    </Columns>
</MudDataGrid>

@code {

    protected override async Task OnInitializedAsync()
    {
        await Reload();
    }

}