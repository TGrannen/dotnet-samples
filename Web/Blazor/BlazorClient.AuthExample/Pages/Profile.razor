@page "/Profile"
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@inject NavigationManager Navigation

<PageTitle>Profile</PageTitle>

<MudStack Row="true">
    <MudText Typo="Typo.h3" GutterBottom="true">Profile</MudText>
    <UserImage IsClickable="false" Height="60"></UserImage>
    <MudButton Color="Color.Secondary" OnClick="BeginSignOut">Log out</MudButton>
</MudStack>


<AuthorizeView>
    <Authorized>
        <MudSimpleTable Style="overflow-x: auto;">
            <thead>
            <tr>

                <th>Type</th>
                <th>Value</th>
            </tr>
            </thead>
            <tbody>
            @foreach (var claim in context.User.Claims)
            {
                <tr>
                    <td>@claim.Type</td>
                    <td>@claim.Value</td>
                </tr>
            }
            </tbody>
        </MudSimpleTable>

    </Authorized>
</AuthorizeView>

@code {

    private void BeginSignOut(MouseEventArgs args)
    {
        Navigation.NavigateToLogout("authentication/logout");
    }

}